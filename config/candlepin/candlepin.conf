# candlepin.conf - minimal config for development
# see https://github.com/candlepin/candlepin/blob/main/conf/candlepin.conf.sample

# database configuration
jpa.config.hibernate.connection.driver_class=org.postgresql.Driver
jpa.config.hibernate.connection.url=jdbc:postgresql://db:5432/candlepin
jpa.config.hibernate.connection.username=foreman
jpa.config.hibernate.connection.password=foreman
jpa.config.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect

# quartz scheduler database config (same as main db)
org.quartz.dataSource.myDS.driver=org.postgresql.Driver
org.quartz.dataSource.myDS.URL=jdbc:postgresql://db:5432/candlepin
org.quartz.dataSource.myDS.user=foreman
org.quartz.dataSource.myDS.password=foreman
org.quartz.dataSource.myDS.maxConnections=10

# authentication
candlepin.auth.trusted.enable=true

# standalone mode (not using CDN for subscription data)
candlepin.standalone=true

# disable SSL for development
candlepin.auth.ssl.enabled=false

# katello oauth integration
candlepin.auth.oauth.enable=true
candlepin.auth.oauth.consumer.katello.secret=katello_oauth_secret

# enable liquibase migrations on startup
candlepin.db.database_manage_on_startup=manage

# use embedded artemis broker (required for this candlepin image)
candlepin.messaging.provider=artemis
candlepin.async.jobs.scheduler_enabled=true
# use embedded broker mode
candlepin.messaging.activemq.embedded=true

# logging
log4j.logger.org.candlepin=INFO
